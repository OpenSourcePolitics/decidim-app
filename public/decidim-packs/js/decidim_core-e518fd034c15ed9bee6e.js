/*! For license information please see decidim_core-e518fd034c15ed9bee6e.js.LICENSE.txt */
!function(){var e,t={83508:function(e,t,n){var i={"./decidim/avatar-multiuser.png":2492,"./decidim/brands/google.svg":17477,"./decidim/cc-badge.png":99379,"./decidim/decidim-logo.svg":20287,"./decidim/default-avatar.svg":61424,"./decidim/gamification/badges/decidim_gamification_badges_followers.svg":33607,"./decidim/gamification/badges/decidim_gamification_badges_invitations.svg":48205,"./decidim/icons.svg":12474,"./decidim/pattern.png":19766,"./decidim/placeholder.jpg":31788,"./decidim/vendor/leaflet/layers-2x.png":66331,"./decidim/vendor/leaflet/layers.png":35641,"./decidim/vendor/leaflet/marker-icon-2x.png":89586,"./decidim/vendor/leaflet/marker-icon.png":13391,"./decidim/vendor/leaflet/marker-shadow.png":28953,"./decidim/vendor/social-share-button/delicious.svg":56040,"./decidim/vendor/social-share-button/douban.svg":79586,"./decidim/vendor/social-share-button/email.svg":65947,"./decidim/vendor/social-share-button/facebook.svg":96978,"./decidim/vendor/social-share-button/google_bookmark.svg":18592,"./decidim/vendor/social-share-button/google_plus.svg":78786,"./decidim/vendor/social-share-button/hacker_news.svg":58643,"./decidim/vendor/social-share-button/linkedin.svg":25584,"./decidim/vendor/social-share-button/odnoklassniki.svg":73771,"./decidim/vendor/social-share-button/pinterest.svg":85584,"./decidim/vendor/social-share-button/qq.svg":54839,"./decidim/vendor/social-share-button/reddit.svg":2437,"./decidim/vendor/social-share-button/telegram.svg":27487,"./decidim/vendor/social-share-button/tumblr.svg":91743,"./decidim/vendor/social-share-button/twitter.svg":61039,"./decidim/vendor/social-share-button/vkontakte.svg":90720,"./decidim/vendor/social-share-button/wechat.svg":14319,"./decidim/vendor/social-share-button/weibo.svg":64896,"./decidim/vendor/social-share-button/whatsapp.svg":77097,"./decidim/vendor/social-share-button/xing.svg":34131};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=83508},48999:function(e,t,n){var i={"./decidim/cc-by-sa--inv.svg":47027,"./decidim/cc-by-sa.svg":55974,"./decidim/decidim-logo-mobile--inv.svg":22604,"./decidim/decidim-logo-mobile.svg":99151,"./decidim/decidim-logo.svg":69349};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id=48999},93724:function(e,t,n){"use strict";n(82526),n(41817),n(72443),n(92401),n(8722),n(32165),n(69007),n(83510),n(41840),n(6982),n(32159),n(96649),n(39341),n(60543),n(92222),n(50545),n(43290),n(57327),n(69826),n(34553),n(84944),n(86535),n(91038),n(26699),n(66992),n(69600),n(21249),n(26572),n(47042),n(2707),n(38706),n(40561),n(33792),n(99244),n(18264),n(96078),n(4855),n(68309),n(73706),n(51532),n(99752),n(82376),n(73181),n(23484),n(2388),n(88621),n(60403),n(84755),n(25438),n(90332),n(40658),n(40197),n(44914),n(52420),n(60160),n(60970),n(10408),n(73689),n(9653),n(93299),n(35192),n(33161),n(44048),n(78285),n(44363),n(55994),n(61874),n(9494),n(56977),n(19601),n(59595),n(35500),n(69720),n(43371),n(38559),n(38880),n(49337),n(36210),n(30489),n(43304),n(41825),n(98410),n(72200),n(47941),n(94869),n(33952),n(57227),n(60514),n(41539),n(26833),n(88674),n(17727),n(36535),n(12419),n(69596),n(52586),n(74819),n(95683),n(39361),n(51037),n(5898),n(67556),n(14361),n(83593),n(39532),n(24603),n(74916),n(92087),n(39714),n(70189),n(79841),n(27852),n(94953),n(32023),n(78783),n(4723),n(66528),n(83112),n(38992),n(82481),n(15306),n(64765),n(23123),n(23157),n(73210),n(48702),n(55674),n(15218),n(74475),n(57929),n(50915),n(29253),n(42125),n(78830),n(58734),n(29254),n(37268),n(7397),n(60086),n(80623),n(44197),n(76495),n(87145),n(35109),n(65125),n(82472),n(49743),n(8255),n(29135),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(98145),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(95206),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(4129),n(38478),n(54747),n(33948),n(84633),n(85844),n(60285),n(83753),n(41637),n(62172),n(85392);var i=n(23972),a=n.n(i),o=(n(35666),n(39492)),r=(n(24571),n(92362),n(25940),n(91410),n(94689),n(4827),n(49378),n(83550)),c=n.n(r);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}$((function(){var e=$(".js-multiple-mentions"),t=$(".js-multiple-mentions-recipients"),n=e.attr("data-noresults"),i=e.attr("data-direct-messages-disabled"),a=0,o=function(t){t.remove(),a-=1,e.prop("disabled")&&e.prop("disabled",!1)},r=null;n&&(r=function(){return"<li>".concat(n,"</li>")});var s,d=new(c())({autocompleteMode:!0,values:function(e,t){var n=this,i=null;return function(){for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];var c=n;clearTimeout(i),i=setTimeout((function(){return e.apply(c,o)}),t)}}((function(e,n){!function(e,n){var i=[];t.find("input[name^='recipient_id']").each((function(e){i.push($(this).val())}));var a='{users(filter:{wildcard:"'.concat(e,'",excludeIds:[').concat(i,"]}){id,nickname,name,avatarUrl,__typename,...on UserGroup{membersCount},...on User{directMessagesEnabled}}}");$.post("/api",{query:a}).then((function(e){var t=e.data.users||{};n(t)})).fail((function(){n([])})).always((function(){var e=$(d.current.element).parent();e.addClass("is-active"),e.find(".tribute-container").removeAttr("style")}))}(e,(function(e){return n(e)}))}),250),positionMenu:!0,menuContainer:null,menuItemLimit:10,fillAttr:"nickname",noMatchTemplate:r,lookup:function(e){return e.nickname+e.name},selectTemplate:function(n){if((a+=1)>=9&&e.prop("disabled",!0),"undefined"===typeof n)return null;var i='\n        <label style="padding: 0 0 10px 0">\n          <img src="'.concat(n.original.avatarUrl,'" alt="').concat(n.original.name,'" height="35" width="35" style="border-radius: 50%;" aria-label="').concat(n.original.name,'">&nbsp;\n          <b>').concat(n.original.name,'</b>\n          <input type="hidden" name="recipient_id[]" value="').concat(n.original.id,'">\n          <div class="float-right">&times;</div>\n        </label>\n      ');return"UserGroup"!==n.original.__typename&&"true"!==n.original.directMessagesEnabled||(t.append($(i)),e.val("")),t.find("label").each((function(e){$(this).find("div").attr("tabIndex",0).attr("aria-controls",0).attr("aria-label","Close").attr("role","tab")})),""},menuItemTemplate:function(e){var t="",n="true"===e.original.directMessagesEnabled;if(window.Decidim&&"UserGroup"===e.original.__typename){n=!0;var a=window.Decidim.config.get("icons_path");t='<span class="is-group">'.concat(e.original.membersCount,'x <svg class="icon--members icon"><use href="').concat(a,'#icon-members"/></svg></span>')}var o=n?"":"disabled-tribute-element",r=n?"":'&nbsp;<span class="disabled-tribute-element-info">'.concat(i,"</span>");return'<div class="tribute-item '.concat(e.original.__typename," ").concat(o,'">\n      <span class="author__avatar"><img src="').concat(e.original.avatarUrl,'" alt="author-avatar"></span>\n        <strong>').concat(e.original.nickname,"</strong>\n        <small>").concat(e.original.name,"</small>\n        ").concat(t,"\n        ").concat(r,"\n      </div>")}});e.length&&((s=e).on("focusin",(function(e){d.menuContainer=e.target.parentNode})),s.on("focusout",(function(e){var t=$(e.target).parent();t.hasClass("is-active")&&t.removeClass("is-active")})),s.on("input",(function(e){var t=$(e.target).parent();if(d.isActive){var n=$(".tribute-container");n.appendTo(t),n.removeAttr("style"),t.addClass("is-active")}else t.removeClass("is-active")})),d.attach(e)),t.length&&function(e){e.on("click",(function(e){var t=e.target.parentNode;"LABEL"===t.tagName&&o(t)})),e.on("keypress",(function(e){var t=e.target.parentNode;"LABEL"===t.tagName&&o(t)}))}(t)}));var d="%count%",l={charactersAtLeast:{one:"at least ".concat(d," character"),other:"at least ".concat(d," characters")},charactersLeft:{one:"".concat(d," character left"),other:"".concat(d," characters left")}},u=l,f=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$input=t,this.$target=$(this.$input.data("remaining-characters")),this.minCharacters=parseInt(this.$input.attr("minlength"),10),this.maxCharacters=parseInt(this.$input.attr("maxlength"),10),this.$target.length<1){var n=null;n=this.$input.attr("id")&&this.$input.attr("id").length>0?"".concat(this.$input.attr("id"),"_characters"):"characters_".concat(Math.random().toString(36).substr(2,9)),this.$target=$('<span id="'.concat(n,'" class="form-input-extra-before" />')),this.$input.parent().is(".editor")?this.$input.parent().after(this.$target):this.$input.parent().is(".columns")&&this.$input.parent().parent().is(".row")?this.$input.parent().parent().after(this.$target):this.$input.after(this.$target)}this.$target.length>0&&(this.maxCharacters>0||this.minCharacters>0)&&this.bindEvents()}var t,n,i;return t=e,i=[{key:"configureMessages",value:function(e){u=$.extend(l,e)}}],(n=[{key:"bindEvents",value:function(){var e=this;Quill&&this.$input.parent().is(".editor")&&setTimeout((function(){Quill.find(e.$input.siblings(".editor-container")[0]).on("text-change",(function(){e.updateStatus()}))})),this.$input.on("keyup",(function(){e.updateStatus()})),null!==this.$input.get(0)&&this.$input.get(0).addEventListener("emoji.added",(function(){e.updateStatus()})),this.updateStatus()}},{key:"updateStatus",value:function(){var e=this.$input.val().length,t=[];if(this.minCharacters>0){var n=u.charactersAtLeast.other;1===this.minCharacters&&(n=u.charactersAtLeast.one),t.push(n.replace(d,this.minCharacters))}if(this.maxCharacters>0){var i=this.maxCharacters-e,a=u.charactersLeft.other;1===i&&(a=u.charactersLeft.one),t.push(a.replace(d,i))}this.$target.text(t.join(", "))}}])&&s(t.prototype,n),i&&s(t,i),e}(),m=function(e){e.data("remaining-characters-counter",new f(e))};$((function(){$("input[type='text'], textarea, .editor>input[type='hidden']").each((function(e,t){var n=$(t);(n.is("[minlength]")||n.is("[maxlength]"))&&m(n)}))}));n(20355);var p=n(11440),v=n.n(p),g=n(23104);$((function(){$("[data-dropdown-menu]").on("show.zf.dropdownMenu",(function(e,t){$("li:first > a",t).focus()}))}));var h=n(61246),b=n(28752),w={role:"img","aria-hidden":"true"};function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _=["card--list__data__icon","footer-social__icon","logo-cityhall"],k=["license","decidim"],x={externalLink:"External link"},C=x,j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$link=t,this.setup()}var t,n,i;return t=e,n=[{key:"setup",value:function(){var e=this;if(!_.some((function(t){return e.$link.hasClass(t)}))&&!k.some((function(t){return"".concat(e.$link.attr("rel")).split(" ").indexOf(t)>-1}))){this.$link.addClass("external-link-container");var t="&nbsp;";this.$link.text().trim().length<1&&(t=""),this.$link.append("".concat(t).concat(this.generateElement()))}}},{key:"generateElement",value:function(){var e="".concat(this.generateIcon()).concat(this.generateScreenReaderLabel());return'<span class="external-link-indicator">'.concat(e,"</span>")}},{key:"generateIcon",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$.extend(w,t),i=n.title||n.ariaLabel;Reflect.deleteProperty(n,"title");var a={class:"icon icon--".concat(e)};Object.keys(n).forEach((function(e){var t=e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}));"undefined"===typeof a[e]?a[t]=n[e]:a[t]="".concat(a[t]," ").concat(n[e])}));var o=window.Decidim.config.get("icons_path"),r='<svg><use href="'.concat(o,"#icon-").concat(e,'"></use></svg>'),c=$(r);return i?c.prepend("<title>".concat(i,"</title>")):(c.prepend("<title>".concat(e,"</title>")),a["aria-hidden"]="true"),c.attr(a),$("<div />").append(c).html()}("external-link")}},{key:"generateScreenReaderLabel",value:function(){return'<span class="show-for-sr">('.concat(C.externalLink,")</span>")}}],i=[{key:"configureMessages",value:function(e){C=$.extend(x,e)}}],n&&y(t.prototype,n),i&&y(t,i),e}();function T(e){var t=window.Decidim.config.get("external_domain_whitelist");"/link"!==window.location.pathname&&$("a",e).filter((function(e,n){var i=$(n);if(!i[0].hasAttribute("href")||i.parents(".ql-editor").length>0)return!1;var a=i.attr("href").match(/^(([a-z]+):)?\/\/([^/:]+)(:[0-9]*)?(\/.*)?$/)||null;if(!a)return!1;var o=a[3].replace(/^www\./,"");return!t.includes(o)})).each((function(e,t){var n=$(t),i="/link?external_url=".concat(encodeURIComponent(n.attr("href")));n.attr("href",i),n.attr("data-remote",!0)}))}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var O={correctErrors:"There are errors on the form, please correct them."},D=O,S=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$form=t,this.$form.on("form-error.decidim",(function(){n.handleError()}))}var t,n,i;return t=e,i=[{key:"configureMessages",value:function(e){D=$.extend(O,e)}}],(n=[{key:"handleError",value:function(){this.announceFormError(),$(".is-invalid-input:first",this.$form).focus()}},{key:"announceFormError",value:function(){var e=$(".sr-announce",this.$form);e.length>0&&e.remove(),(e=$("<div />")).attr("class","sr-announce show-for-sr"),e.attr("aria-live","assertive"),this.$form.prepend(e),setTimeout((function(){e.text(D.correctErrors)}),100)}}])&&E(t.prototype,n),i&&E(t,i),e}();function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}$((function(){$("form").each((function(e,t){$(t).data("form-validator",new S($(t)))})),$(document).on("forminvalid.zf.abide",(function(e,t){t.trigger("form-error.decidim")}))}));var L=window.$,A=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.commentableGid=n.commentableGid,this.commentsUrl=n.commentsUrl,this.rootDepth=n.rootDepth,this.order=n.order,this.lastCommentId=n.lastCommentId,this.pollingInterval=n.pollingInterval||15e3,this.id=this.$element.attr("id")||this._getUID(),this.mounted=!1}var t,n,i;return t=e,n=[{key:"mountComponent",value:function(){var e=this;this.$element.length>0&&!this.mounted&&(this.mounted=!0,this._initializeComments(this.$element),L(".order-by__dropdown .is-submenu-item a",this.$element).on("click.decidim-comments",(function(){return e._onInitOrder()})))}},{key:"unmountComponent",value:function(){var e=this;this.mounted&&(this.mounted=!1,this._stopPolling(),L(".add-comment .opinion-toggle .button",this.$element).off("click.decidim-comments"),L(".add-comment textarea",this.$element).off("input.decidim-comments"),L(".order-by__dropdown .is-submenu-item a",this.$element).off("click.decidim-comments"),L(".add-comment form",this.$element).off("submit.decidim-comments"),L(".add-comment textarea",this.$element).each((function(t,n){return n.removeEventListener("emoji.added",e._onTextInput)})))}},{key:"addThread",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=L(".comments:first",this.$element),i=L(e),a=L(".comment-threads",this.$element);this._addComment(a,i),this._finalizeCommentCreation(n,t)}},{key:"addReply",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=L("#comment_".concat(e)),a=L(t),o=L("#comment-".concat(e,"-replies"));this._addComment(o,a),o.siblings(".comment__additionalreply").removeClass("hide"),this._finalizeCommentCreation(i,n)}},{key:"_getUID",value:function(){return"comments-".concat((new Date).setUTCMilliseconds(),"-").concat(Math.floor(1e7*Math.random()))}},{key:"_initializeComments",value:function(e){var t=this;L(".add-comment",e).each((function(e,n){var i=L(n),a=L("form",i),o=L(".opinion-toggle .button",i),r=L("textarea",a);o.on("click.decidim-comments",t._onToggleOpinion),r.on("input.decidim-comments",t._onTextInput),L(document).trigger("attach-mentions-element",[r.get(0)]),a.on("submit.decidim-comments",(function(){L("button[type='submit']",a).attr("disabled","disabled"),t._stopPolling()})),r.length&&null!==r.get(0)&&r.get(0).addEventListener("emoji.added",t._onTextInput)})),this._pollComments()}},{key:"_addComment",value:function(e,t){var n=L(".comment",t);n.length<1&&(n=t),this.lastCommentId=parseInt(n.data("comment-id"),10),e.append(t),t.foundation(),this._initializeComments(t),m(L(".add-comment textarea",t)),t.find('a[target="_blank"]').each((function(e,t){var n=L(t);n.data("external-link",new j(n))})),T(t)}},{key:"_finalizeCommentCreation",value:function(e,t){if(t){var n=L("> .add-comment",e),i=L("textarea",n),a=i.data("remaining-characters-counter");i.val(""),a&&a.updateStatus(),n.parent().is(".comments")||n.addClass("hide")}this._pollComments()}},{key:"_pollComments",value:function(){var e=this;this._stopPolling(),this.pollTimeout=setTimeout((function(){L.ajax({url:e.commentsUrl,method:"GET",contentType:"application/javascript",data:{commentable_gid:e.commentableGid,root_depth:e.rootDepth,order:e.order,after:e.lastCommentId}}).done((function(){return e._pollComments()}))}),this.pollingInterval)}},{key:"_stopPolling",value:function(){this.pollTimeout&&clearTimeout(this.pollTimeout)}},{key:"_setLoading",value:function(){var e=L("> .comments-container",this.$element);L("> .comments",e).addClass("hide"),L("> .loading-comments",e).removeClass("hide")}},{key:"_onInitOrder",value:function(){this._stopPolling(),this._setLoading()}},{key:"_onToggleOpinion",value:function(e){var t=L(e.target);t.is(".button")||(t=t.parents(".button"));var n=t.closest(".add-comment"),i=L("form",n),a=L(".opinion-toggle .button",n),o=L(".opinion-toggle .selected-state",n),r=L(".alignment-input",i);a.removeClass("is-active").attr("aria-pressed","false"),t.addClass("is-active").attr("aria-pressed","true"),t.is(".opinion-toggle--ok")?r.val(1):t.is(".opinion-toggle--meh")?r.val(0):t.is(".opinion-toggle--ko")&&r.val(-1),o.text(t.data("selected-label"))}},{key:"_onTextInput",value:function(e){var t=L(e.target),n=t.closest(".add-comment"),i=L("form",n),a=L("button[type='submit']",i);t.val().length>0?a.removeAttr("disabled"):a.attr("disabled","disabled")}}],n&&I(t.prototype,n),i&&I(t,i),e}(),P=n(7503),M=n(68726),N=n(69311);function U(){var e=document.querySelectorAll("[data-input-emoji]");e.length&&e.forEach((function(e){var t=new N.K({position:"bottom-end"}),n=document.createElement("div");n.className="emoji__container";var i=document.createElement("div");i.className="emoji__trigger",i.innerHTML='<svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="smile" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-110.3 0-200-89.7-200-200S137.7 56 248 56s200 89.7 200 200-89.7 200-200 200zm-80-216c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32-32 14.3-32 32 14.3 32 32 32zm4 72.6c-20.8 25-51.5 39.4-84 39.4s-63.2-14.3-84-39.4c-8.5-10.2-23.7-11.5-33.8-3.1-10.2 8.5-11.5 23.6-3.1 33.8 30 36 74.1 56.6 120.9 56.6s90.9-20.6 120.9-56.6c8.5-10.2 7.1-25.3-3.1-33.8-10.1-8.4-25.3-7.1-33.8 3.1z"></path></svg>',e.parentNode.insertBefore(n,e),n.appendChild(e),n.appendChild(i),i.addEventListener("click",(function(){return t.togglePicker(i)})),t.on("emoji",(function(t){var n=t.emoji;e.value+=" ".concat(n," ");var i=new Event("emoji.added");e.dispatchEvent(i)}))}))}window.Decidim=window.Decidim||{},window.Decidim.config=new b.Z,window.Decidim.ExternalLink=j,window.Decidim.InputCharacterCounter=f,window.Decidim.FormValidator=S,window.Decidim.DataPicker=P.Z,window.Decidim.CommentsComponent=A,window.Decidim.addInputEmoji=U,$((function(){window.theDataPicker=new P.Z($(".data-picker")),$(document).foundation(),$("[data-dropdown-menu]").each((function(e,t){$("li.is-dropdown-submenu-parent",t).removeAttr("aria-haspopup").removeAttr("aria-label"),$("ul.is-dropdown-submenu",t).attr("role","menu")})),v()(),$("[data-open]").on("click",(function(e){e.preventDefault()})),(0,g.Z)(),$(".editor-container").each((function(e,t){(0,h.Z)(t)})),$('a[target="_blank"]').each((function(e,t){var n=$(t);n.data("external-link",new j(n))})),$("[data-decidim-comments]").each((function(e,t){var n=$(t),i=new A(n,n.data("decidim-comments"));i.mountComponent(),$(t).data("comments",i)})),$("form.new_filter").each((function(){new M.Z($(this)).mountComponent()})),T($("body")),U()}));var z=n(12528),q=(n(35349),n(83817)),Z=n.n(q);$((function(){$(document).on("click","[data-clipboard-copy]",(function(e){var t=$(e.target);if(t.data("clipboard-copy")&&!(t.data("clipboard-copy").length<1)){var n=$(t.data("clipboard-copy"));if(!(n.length<1)&&n.is("input, textarea, select")){var i=Z()(n[0]);if(i&&!(i.length<1)){var a=$("<textarea>".concat(i,"</textarea>")).css({width:1,height:1});t.after(a),a.select();var o=function(){a.remove(),t.focus()};try{if(!document.execCommand("copy"))return}catch(l){return void o()}o();var r=t.data("clipboard-copy-label");if(r){var c=t.data("clipboard-copy-label-timeout");c&&clearTimeout(c),t.data("clipboard-copy-label-original")||t.data("clipboard-copy-label-original",t.html()),t.html(r),c=setTimeout((function(){t.html(t.data("clipboard-copy-label-original")),t.removeData("clipboard-copy-label-original"),t.removeData("clipboard-copy-label-timeout")}),5e3),t.data("clipboard-copy-label-timeout",c)}var s=t.data("clipboard-copy-message");if(s){var d=t.data("clipboard-message-element");d?d.html()===s&&(s+="&nbsp;"):(d=$('<div aria-role="alert" aria-live="assertive" aria-atomic="true" class="clipboard-announcement show-for-sr"></div>'),t.after(d),t.data("clipboard-message-element",d)),d.html(s)}}}}}))}));n(12757);$((function(){$(".js-append").appendAround()}));n(10745),n(15043),n(92037),n(42281);var B=n(39281);$((function(){B.ZP.MediaQuery.atLeast("medium")||$(".js-conference").hover((function(){var e=$(window).scrollTop()+.1*$(window).height();$(this).find(".js-bio").css("top",e)}))}));n(46008),n(46029),n(79722),n(53108),n(77497),n(54496),n(49157),n(81741),n(89711);var G=function(e){$(document).on("click","".concat(e.containerSelector," a"),(function(e){var t=$(e.target);t.parents(".menu").find("a:first").text(t.text()),(0,z.qA)(t.attr("href"))})),(0,z.jC)(e.callbackName,(function(){var t=window.location.toString().match(/${options.urlParameter}=([^&]*)/),n=$("".concat(e.containerSelector," .menu")),i=n.find(".menu a:first").data(e.dataAttribute);t&&(i=t[1]);var a=n.find(".menu a[data-".concat(e.dataAttribute,'="').concat(i,'"]')).text();n.find("a:first").text(a)}))};$((function(){G({containerSelector:".order-by",callbackName:"orders",urlParameter:"order",dataAttribute:"order"}),G({containerSelector:".results-per-page",callbackName:"results_per_page",urlParameter:"per_page",dataAttribute:"per-page-option"})}));n(90699);var R=n(30381),F=n.n(R);$((function(){var e=$(".impersonation-warning");if(e.length){var t=F()(e.data("session-ends-at")),n=setInterval((function(){var n=(t-F()())/6e4,i=Math.round(n);e.find(".minutes").html(i),n<=0&&window.location.reload()}),1e3);window.addEventListener("beforeunload",(function(){clearInterval(n)}))}}));n(49158),n(57812),n(6497),n(94548),n(27769);window.morphdom=o.Z,n(83508),a().start()},15043:function(){$((function(){var e=$(".delete-account"),t=$(".delete-account-modal");if(e.length>0){var n=$(".open-modal-button"),i=$("#deleteConfirm");n.on("click",(function(n){try{var a=e.find("textarea#delete_account_delete_reason").val();t.find("input#delete_account_delete_reason").val(a),i.foundation("open")}catch(o){console.error(o)}return n.preventDefault(),n.stopPropagation(),!1}))}}))},92037:function(){$((function(){$(document).on("click.zf.trigger",(function(e){var t="#".concat($(e.target).data("open")),n=$(e.target).data("redirectUrl");t&&n&&($("<input type='hidden' />").attr("id","redirect_url").attr("name","redirect_url").attr("value",n).appendTo("".concat(t," form")),$("".concat(t," a")).attr("href",(function(e,t){var i=jQuery.param({redirect_url:n});return t+(t.match(/\?/)?"&":"?")+i})))})),$(document).on("closed.zf.reveal",(function(e){$("#redirect_url",e.target).remove(),$("a",e.target).attr("href",(function(e,t){return t&&-1!==t.indexOf("redirect_url")?function(e,t){var n=e.split("?");if(n.length>=2){for(var i=n.shift(),a=n.join("?"),o="".concat(encodeURIComponent(t),"="),r=a.split(/[&;]/g),c=r.length-1;c>=0;c-=1)-1!==r[c].lastIndexOf(o,0)&&r.splice(c,1);return 0===r.length?i:"".concat(i,"?").concat(r.join("&"))}return e}(t,"redirect_url"):t}))}))}))},35349:function(){$((function(){var e=$('.callout[role="alert"]:first');e.length>0&&setTimeout((function(){e.attr("tabindex","0").focus().html("".concat(e.html(),"&nbsp;"))}),500)}))},79722:function(){$(document).ready((function(){$(".scroll-to-last-message").length>0&&window.scrollTo({top:$(".conversation-chat:last-child").offset().top,behavior:"smooth"})}))},46029:function(){$((function(){var e=$(".row.diff_view");$(document).on("click",".diff-view-by a.diff-view-mode",(function(t){t.preventDefault();var n=$(t.target),i="escaped",a=n.parents(".is-dropdown-submenu-parent").find("#diff-view-selected");a.text().trim()!==n.text().trim()&&(a.text(n.text()),"diff-view-unified"===n.attr("id")&&($(".row.diff_view_split_escaped").hasClass("hide")&&(i="unescaped"),e.addClass("hide"),$(".row.diff_view_unified_".concat(i)).removeClass("hide")),"diff-view-split"===n.attr("id")&&($(".row.diff_view_unified_escaped").hasClass("hide")&&(i="unescaped"),e.addClass("hide"),$(".row.diff_view_split_".concat(i)).removeClass("hide")))})),$(document).on("click",".diff-view-by a.diff-view-html",(function(t){t.preventDefault();var n=$(t.target);n.parents(".is-dropdown-submenu-parent").find("#diff-view-selected").text(n.text());var i=e.not(".hide").first().attr("id").split("_").slice(1,-1).join("_"),a=e.filter("[id*=".concat(i,"]"));"escaped-html"===n.attr("id")&&(a.filter("[id$=_unescaped]").addClass("hide"),a.filter("[id$=_escaped]").removeClass("hide")),"unescaped-html"===n.attr("id")&&(a.filter("[id$=_escaped]").addClass("hide"),a.filter("[id$=_unescaped]").removeClass("hide"))}))}))},81741:function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}$((function(){if(window.localStorage){var t=function(){var e=localStorage.getItem("dismissedHelpers");return e?e.split(","):[]},n=t();$(".floating-helper-container").each((function(i,a){var o=$(a).data("help-id");$(".floating-helper__trigger, .floating-helper__content-close",a).on("click",(function(e){e.preventDefault()})),n.includes(o)||($(".floating-helper",a).foundation("toggle"),$(".floating-helper__wrapper",a).foundation("toggle"),$(".floating-helper",a).on("off.zf.toggler",(function(){!function(n){var i=t();i.includes(n)||localStorage.setItem("dismissedHelpers",[].concat(e(i),[n]).join(","))}(o)})))}))}}))},12528:function(e,t,n){"use strict";n.d(t,{jC:function(){return a},AP:function(){return o},qA:function(){return r},lO:function(){return c},SB:function(){return s}});var i={};function a(e,t){i[e]=t}var o=function(e){i[e]=null},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.history&&window.history.pushState(t,null,e)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.history&&window.history.replaceState(t,null,e)},s=function(){return window.history?window.history.state:null};window.onpopstate=function(e){if(e.isTrusted)for(var t in i)i.hasOwnProperty(t)&&i[t](e.state)}},6497:function(){$((function(){var e=$("#select-identity-button"),t=null,n=$("#user-identities");n.length&&(t=n.data("reveal-identities-url"),e.click((function(){$.ajax(t).done((function(t){n.html(t).foundation("open"),e.trigger("ajax:success")}))})))})),$((function(){$("#select-identity-button").on("ajax:success",(function(){$("#user-identities ul.reveal__list li").each((function(e,t){var n=$(t);n.on("click",(function(){var e=n.data("method"),t=null;t="POST"===e?"create_url":"destroy_url",$.ajax({url:n.data(t),method:e,dataType:"script",success:function(){n.hasClass("selected")?(n.removeClass("selected"),n.find(".icon--circle-check").addClass("invisible"),n.data("method","POST")):(n.addClass("selected"),n.find(".icon--circle-check").removeClass("invisible"),n.data("method","DELETE"))}})}))}))}))}))},20355:function(){$((function(){var e=$("input[data-autojump]");e.on("keydown",(function(e){e.target.selectionStart===e.target.selectionEnd&&(1===e.originalEvent.key.length&&e.target.dataset.jumpNext?e.target.value.length===parseInt(e.target.dataset.maxLength,10)&&(e.preventDefault(),setTimeout((function(){var t=$(e.target.dataset.jumpNext);t.val(e.originalEvent.key),t.trigger("focus")}),1)):8===e.originalEvent.keyCode&&e.target.dataset.jumpPrev&&0===e.target.value.length&&(e.preventDefault(),setTimeout((function(){var t=$(e.target.dataset.jumpPrev);t.val(t.val().slice(0,-1)),t.trigger("focus")}),1)))}))}))},57812:function(){$((function(){var e=$(".title-bar .topbar__notifications"),t=$(".wrapper"),n=t.find("#notifications"),i=$(".empty-notifications"),a=t.find("ul.pagination"),o=function(){t.find(".card--widget").length>0||(n.remove(),i.removeClass("hide"))};n.on("click",".mark-as-read-button",(function(e){var t=$(e.target).parents(".card--widget");t.fadeOut(500,(function(){t.remove(),o()}))})),t.on("click",".mark-all-as-read-button",(function(){n.fadeOut(500,(function(){a.remove(),e.removeClass("is-active"),t.find(".card--widget").remove(),o()}))})),o()}))},90699:function(){$((function(){var e=$(".represent-user-group").find("input#user_group"),t=$(".user-group-fields");e.click((function(){t.find("select").val()||t.toggle(),t.is(":visible")?e.prop("checked",!0):e.prop("checked",!1)}))}))},77497:function(){$((function(){var e=$(".responsive-tab-block");e.click((function(t){null!==t.target.closest(".is-active")&&(t.preventDefault(),window.innerWidth<=639&&e.toggleClass("expanded"))}))}))},54496:function(){$((function(){if(console){var e=window.Decidim.config.get("messages");if(e){var t=e.selfxssWarning;console.log("%c".concat(t.title),"color:#f00;font-weight:bold;font-size:50px;"),console.log("%c".concat(t.description),"font-size:24px;")}}}))},49158:function(){$((function(){var e=$("#user-conversations-add-modal"),t=$("#start-conversation-dialog-button");if(e.length){e.data("refresh-url");t.click((function(){e.foundation("open")}))}}))},46008:function(){$((function(){setTimeout((function(){$(".tooltip").on("mouseover",(function(){$("[data-keep-on-hover='true'][data-toggle='".concat(this.id,"']")).foundation("show")})).on("mouseout",(function(){$("[data-keep-on-hover='true'][data-toggle='".concat(this.id,"']")).foundation("hide")}))}),0)}))},10745:function(){$((function(){var e=$("#register-form"),t=e.find(".user-group-fields"),n='input[name="user[sign_up_as]"]',i='input[type="checkbox"][name="user[newsletter]"]',a=$("#sign-up-newsletter-modal"),o=function(e){"user"===e?t.hide():t.show()};o(e.find("".concat(n,":checked")).val()),e.on("change",n,(function(e){var t=e.target.value;o(t)})),e.on("submit",(function(t){var n=e.find(i);a.data("continue")||n.prop("checked")||(t.preventDefault(),a.foundation("open"))})),a.find(".check-newsletter").on("click",(function(t){var n;n=$(t.target).data("check"),e.find(i).prop("checked",n),a.data("continue",!0),a.foundation("close"),e.submit()}))}))},25940:function(){function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}!function(t,n,i){function a(t,n){return e(t)===n}var o=[],r=[],c={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){r.push({name:e,fn:t,options:n})},addAsyncTest:function(e){r.push({name:null,fn:e})}},s=function(){};s.prototype=c,s=new s;var d=n.documentElement,l="svg"===d.nodeName.toLowerCase();(function(){var e,t,n,i,c,d;for(var l in r)if(r.hasOwnProperty(l)){if(e=[],(t=r[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=a(t.fn,"function")?t.fn():t.fn,c=0;c<e.length;c++)1===(d=e[c].split(".")).length?s[d[0]]=i:(!s[d[0]]||s[d[0]]instanceof Boolean||(s[d[0]]=new Boolean(s[d[0]])),s[d[0]][d[1]]=i),o.push((i?"":"no-")+d.join("-"))}})(),function(e){var t=d.className,n=s._config.classPrefix||"";if(l&&(t=t.baseVal),s._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}s._config.enableClasses&&(t+=" "+n+e.join(" "+n),l?d.className.baseVal=t:d.className=t)}(o),delete c.addTest,delete c.addAsyncTest;for(var u=0;u<s._q.length;u++)s._q[u]();t.Modernizr=s}(window,document)},27769:function(e,t,n){n(48999)},2492:function(e,t,n){"use strict";e.exports=n.p+"media/images/avatar-multiuser-67c042dbbc8661cd06df.png"},17477:function(e,t,n){"use strict";e.exports=n.p+"media/images/google-b8225d6a9b718fa1749f.svg"},99379:function(e,t,n){"use strict";e.exports=n.p+"media/images/cc-badge-afa3eec02a18f532285b.png"},20287:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim-logo-318879ac2f9a6dd9ab6b.svg"},61424:function(e,t,n){"use strict";e.exports=n.p+"media/images/default-avatar-aaa9e55bac5d7159b847.svg"},33607:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim_gamification_badges_followers-36313db34d9f324a71e6.svg"},48205:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim_gamification_badges_invitations-c1fe9eaba927bd4898c5.svg"},12474:function(e,t,n){"use strict";e.exports=n.p+"media/images/icons-c4fd0f43651700b0c768.svg"},19766:function(e,t,n){"use strict";e.exports=n.p+"media/images/pattern-9e37fb0574a565bf2708.png"},31788:function(e,t,n){"use strict";e.exports=n.p+"media/images/placeholder-61ceac35d772dbb11647.jpg"},66331:function(e,t,n){"use strict";e.exports=n.p+"media/images/layers-2x-8f2c4d11474275fbc161.png"},35641:function(e,t,n){"use strict";e.exports=n.p+"media/images/layers-416d91365b44e4b4f477.png"},89586:function(e,t,n){"use strict";e.exports=n.p+"media/images/marker-icon-2x-680f69f3c2e6b90c1812.png"},13391:function(e,t,n){"use strict";e.exports=n.p+"media/images/marker-icon-2b3e1faf89f94a483539.png"},28953:function(e,t,n){"use strict";e.exports=n.p+"media/images/marker-shadow-a0c6cc1401c107b501ef.png"},56040:function(e,t,n){"use strict";e.exports=n.p+"media/images/delicious-645ddfaca5163af23947.svg"},79586:function(e,t,n){"use strict";e.exports=n.p+"media/images/douban-59306a4ec1a7595eda35.svg"},65947:function(e,t,n){"use strict";e.exports=n.p+"media/images/email-d79a53d1d223015094db.svg"},96978:function(e,t,n){"use strict";e.exports=n.p+"media/images/facebook-0ada3788990cda55b9ba.svg"},18592:function(e,t,n){"use strict";e.exports=n.p+"media/images/google_bookmark-524f99e4fffb564dda37.svg"},78786:function(e,t,n){"use strict";e.exports=n.p+"media/images/google_plus-4118815a76b760dea8e7.svg"},58643:function(e,t,n){"use strict";e.exports=n.p+"media/images/hacker_news-b117e036a024756086ab.svg"},25584:function(e,t,n){"use strict";e.exports=n.p+"media/images/linkedin-96905a0a4097dc978626.svg"},73771:function(e,t,n){"use strict";e.exports=n.p+"media/images/odnoklassniki-cef3146ee2d5fdb32157.svg"},85584:function(e,t,n){"use strict";e.exports=n.p+"media/images/pinterest-e1a7ea454b158f6c3fd6.svg"},54839:function(e,t,n){"use strict";e.exports=n.p+"media/images/qq-883b6ea8c69ef9ce093c.svg"},2437:function(e,t,n){"use strict";e.exports=n.p+"media/images/reddit-f39b812702e7016a015a.svg"},27487:function(e,t,n){"use strict";e.exports=n.p+"media/images/telegram-ca65ba180088505e1371.svg"},91743:function(e,t,n){"use strict";e.exports=n.p+"media/images/tumblr-4d59e5b74838fa10b52f.svg"},61039:function(e,t,n){"use strict";e.exports=n.p+"media/images/twitter-ee390c342f9f90074a88.svg"},90720:function(e,t,n){"use strict";e.exports=n.p+"media/images/vkontakte-e41f3b3192e8f0eab1d1.svg"},14319:function(e,t,n){"use strict";e.exports=n.p+"media/images/wechat-28b576b3290e9cb55115.svg"},64896:function(e,t,n){"use strict";e.exports=n.p+"media/images/weibo-20a80f206cb23e64c556.svg"},77097:function(e,t,n){"use strict";e.exports=n.p+"media/images/whatsapp-8f3586f10ca30504aed4.svg"},34131:function(e,t,n){"use strict";e.exports=n.p+"media/images/xing-dc9a2b2304a9d39eea11.svg"},47027:function(e,t,n){"use strict";e.exports=n.p+"media/images/cc-by-sa--inv-677ac89481d863e56eef.svg"},55974:function(e,t,n){"use strict";e.exports=n.p+"media/images/cc-by-sa-a1e48ffe29bf6c4e9d1c.svg"},22604:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim-logo-mobile--inv-4c934321c0ef0e659f4e.svg"},99151:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim-logo-mobile-3a74573b5d91f5f667eb.svg"},69349:function(e,t,n){"use strict";e.exports=n.p+"media/images/decidim-logo-0ef7305f3dc44fbc67e4.svg"}},n={};function i(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=t,e=[],i.O=function(t,n,a,o){if(!n){var r=1/0;for(l=0;l<e.length;l++){n=e[l][0],a=e[l][1],o=e[l][2];for(var c=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[s])}))?n.splice(s--,1):(c=!1,o<r&&(r=o));if(c){e.splice(l--,1);var d=a();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,a,o]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.p="/decidim-packs/",function(){var e={835:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],c=n[1],s=n[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(a in c)i.o(c,a)&&(i.m[a]=c[a]);if(s)var l=s(i)}for(t&&t(n);d<r.length;d++)o=r[d],i.o(e,o)&&e[o]&&e[o][0](),e[r[d]]=0;return i.O(l)},n=self.webpackChunkapp=self.webpackChunkapp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=i.O(void 0,[85,768,166,509,715,335,550,624],(function(){return i(93724)}));a=i.O(a)}();
//# sourceMappingURL=decidim_core-e518fd034c15ed9bee6e.js.map