
var $grid = $('#processes-grid');
var $order_by_filters = $grid.find('.processes-grid-order-by');
var $loading = $grid.find('.loading');
var $filters = $grid.find('.new-filter');

$grid.find('.card-grid').html('<%= j(render(collection)).strip.html_safe %>');
$order_by_filters.html('<%= j(render(partial: "decidim/participatory_processes/participatory_processes/order_by_processes", locals: { include_filter: true })).strip.html_safe %>');
$order_by_filters.foundation();
$loading.hide();

var $scope_prompt = $('.picker-prompt > a')
var $scope_value = $('.picker-values').children()
var $prompt_text = $('.filter-text-suppress')

if ($scope_value.length > 0){
    $scope_prompt.css("pointer-events", "none")
    $scope_prompt.css("cursor", "none")
    $('.picker-prompt').append("<p class='filter-text-suppress' style='font-style:italic;color:red;font-size:80%'>Supprimez le précédent filtre avant d'en sélectionner un nouveau</p>")
}else{
    $scope_prompt.css("cursor", "pointer")
    $scope_prompt.css("pointer-events", "auto")
    if($('.filter-text-suppress').length){
        $('.filter-text-suppress').remove()
    }
}
